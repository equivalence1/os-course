\begin{frame}
\frametitle{Реализация распределенной ФС}
\begin{itemize}
  \item<1-> Необходимо решить следующие задачи:
    \begin{itemize}
      \item как распределить данные по серверам?
      \item как распределить метаданные по серверам?
      \item данные и метаданные должны быть реплицированы;
        \begin{itemize}
          \item несколько копий нужны для надежности и для скорости доступа;
          \item копии должны быть согласованными, как этого добиться?
          \item<2-> а если сервера могут ломаться?
        \end{itemize}
    \end{itemize}
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Метаданные}
\begin{itemize}
  \item<1-> Метаданные - данные которые описывают структуру данных:
    \begin{itemize}
      \item взаимосвязи между файлами и каталогами;
      \item атрибуты файлов и каталогов (размер, дата создания, расположение на диске);
      \item права доступа (без них все гораздо проще);
    \end{itemize}
  \item<2-> Метаданные ФС обладают следующими особенностями:
    \begin{itemize}
      \item небольшой объем по сравнению с данными;
      \item частота использования - нельзя избежать обращения к метаданным (нужно проверить права доступа);
      \item тесная зависимость - метаданные ФС образуют дерево (или DAG);
    \end{itemize}
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Разделение метаданных}
\begin{itemize}
  \item<1-> статическое разделение:
    \begin{itemize}
      \item администратор распределеяет поддеревья серверам;
      \item плохо адаптируется к изменяемым нагрузкам;
    \end{itemize}
  \item<2-> hash-based разделение:
    \begin{itemize}
      \item хеш идентификатора файла определяет сервер;
      \item равномерно распределяет нагрузку;
      \item не учитывает локальность;
    \end{itemize}
  \item<3-> динамическое разделение:
    \begin{itemize}
      \item динамически назначает поддеревья серверам;
      \item совсем не просто, но может распределять нагрузку равномерно;
      \item учитывает локальность и адаптируется к изменениям нагрузки;
    \end{itemize}
\end{itemize}
\end{frame}
